<?php
/**
 * @package    Live
 * @subpackage Broadcast
 * @since      1.0
 *
 * This script delivers dummy entries to the broadcast element. It's created for
 * demo site purpose only and it's not suitable for real use. If you need a real
 * system, you can find informations about it in the template documentation.
 */

/*
 * Sportsman
 */
$entries['sportsman'] = [
<<<'EOE'
	<p>First group is passing checkpoint <em>Charly</em> from north:</p>
	<img
		src="content/sportsman/thumbs/overview-616x310.jpg" width="616" height="310"
		srcset="content/sportsman/thumbs/overview-616x310.jpg 616w, content/sportsman/thumbs/overview-1232x620.jpg 176w"
		sizes="(max-width: 616px) 100vw, 616px"
		class="width-full"
		alt=""
	/>
EOE
, <<<'EOE'
	Major change in the leaders board <strong>Greg Manciani resigns</strong> from the race.
	It causes chaos in the teams and brings tactic changes.
EOE
, <<<'EOE'
	Amazing race so far - five competitors reach a checkpoint in no more
	then eight seconds between them. Conditions are excellent: <em>12 knots
	of the south-east wind</em>, and it seems they might speed up even more
	by the end. We're hoping for a record times.
EOE
, <<<'EOE'
	Perfect weather allowed organizers to set a demanding task while many of
	competitors are very tired after yesterdays windy day.
EOE
, <<<'EOE'
	<p>Weather conditions are still very good:</p>
	<img
		src="content/sportsman/thumbs/young-cloud-616x310.jpg" width="616" height="310"
		srcset="content/sportsman/thumbs/young-cloud-616x310.jpg 616w, content/sportsman/thumbs/young-cloud-1232x620.jpg 176w"
		sizes="(max-width: 616px) 100vw, 616px"
		class="width-full"
		alt=""
	/>
EOE
, <<<'EOE'
	Fantastic news for the Swedish team - Andy and Mark managed to catch up
	and are now on positions 6 and 8. Way to go!
EOE
, <<<'EOE'
	Another great run of the Danish Devil - Greg Hannesh. He is second on the
	turnpoint four. Yesterday's problems are now gone.
EOE
, <<<'EOE'
	Superb maneuver by Thomas Morgentaller. He's now just behind the leading three.
EOE
, <<<'EOE'
	<strong>Important:</strong> due to gear malfunction Greg Anapolitas from
	Greece had to decide to step of the race. He was third in the race and
	fourth overall. Last year Greg didn't finish the final race as well.
EOE
, <<<'EOE'
	Josh Calton from Alaska is on the lead again!
EOE
, <<<'EOE'
	Perfect weather allowed organizers to set a demanding task while many of
	competitors are very tired after yesterdays windy day.
EOE
, <<<'EOE'
	<p>Several competitors are left behind - one of them is Andy Bradford struggling to race with the rest of the pack.</p>
	<img
		src="content/sportsman/thumbs/surf-white-616x310.jpg" width="616" height="310"
		srcset="content/sportsman/thumbs/surf-white-616x310.jpg 616w, content/sportsman/thumbs/surf-white-1232x620.jpg 176w"
		sizes="(max-width: 616px) 100vw, 616px"
		class="width-full"
		alt=""
	/>
EOE
, <<<'EOE'
	<strong>Breaking news:</strong> Bolivian team was disqualified because
	of legal issues. Overall results will have to be recalculated.
EOE
, <<<'EOE'
	<strong>Notice:</strong> Provisional results were just corrected.
EOE
, <<<'EOE'
	American team filed a protest to the arbiters.
EOE
, <<<'EOE'
	Incredible twist in the race - Pablo, yesterday's winner takes the lead
	despite his serious problem at the start.
EOE
, <<<'EOE'
	Excellent move of Michael Durogatti from Italy. He is now second with
	only few seconds to Josh.
EOE
, <<<'EOE'
	Durogatti slows down a bit. The pack of three Germans are just a few
	meters behind him.
EOE
, <<<'EOE'
	It's an incredible day - leading group is constantly mixing with
	the young wolves from Denmark. So far any of the old champions
	didn't make any major mistake, but there is still time for the
	ambitious sportsmen to press them.
EOE
, <<<'EOE'
	Mark has just passed the finish line with a great time in a great style
	Right after him four another competitors are heading toward finish.
EOE
, <<<'EOE'
	<p>It's over! We have a new champion. Congratulations Adam!</p>
	<img
		src="content/sportsman/thumbs/adam-616x310.jpg" width="616" height="310"
		srcset="content/sportsman/thumbs/adam-616x310.jpg 616w, content/sportsman/thumbs/adam-1232x620.jpg 176w"
		sizes="(max-width: 616px) 100vw, 616px"
		class="width-full"
		alt=""
	/>
EOE
, <<<'EOE'
	Thank you for following the race, and see you next time. If you like
	the livestream feature, you can purchase this template for you.
EOE
];

/*
 * Traveler
 */
$entries['traveler'] = [
<<<'EOE'
	<p>We've just left form the <em>Hardcity Airport</em></p>
	<img
		src="content/traveler/thumbs/plane-mountains-616x310.jpg" width="616" height="310"
		srcset="content/traveler/thumbs/plane-mountains-616x310.jpg 616w, content/traveler/thumbs/plane-mountains-1232x620.jpg 176w"
		sizes="(max-width: 616px) 100vw, 616px"
		class="width-full"
		alt=""
	/>
EOE
, <<<'EOE'
	We're going to look around and try to find some kayaks for rent.
EOE
, <<<'EOE'
	It's not so cold as we expected. I hope night will be warm too, as the hut we're staying seems to be quite extreme.
EOE
, <<<'EOE'
	Breathing this air is just different!
EOE
, <<<'EOE'
	Elis went for some supplies and we're preparing the gear for the water. It's not the first time I do this, but it's always a challenge. It's more complicated than you may think.
EOE
, <<<'EOE'
	<p>I'm taking tons of photos. I'll definitely going to create a new album with them. Just have a look at this:</p>
	<img
		src="content/traveler/thumbs/trees-616x310.jpg" width="616" height="310"
		srcset="content/traveler/thumbs/trees-616x310.jpg 616w, content/traveler/thumbs/trees-1232x620.jpg 176w"
		sizes="(max-width: 616px) 100vw, 616px"
		class="width-full"
		alt=""
	/>
EOE
, <<<'EOE'
	The mountains are quite impressive. I'm not sure which is the one we're going to climb tomorrow, but I can't wait for this adventure.
EOE
, <<<'EOE'
	Elis is crazy - she wants to swim it the water now.
EOE
, <<<'EOE'
	So we are all going to swim. Yeah!
EOE
, <<<'EOE'
	<p>This is our target for tomorrow.</p>
	<img
		src="content/traveler/thumbs/peak-616x310.jpg" width="616" height="310"
		srcset="content/traveler/thumbs/peak-616x310.jpg 616w, content/traveler/thumbs/peak-1232x620.jpg 176w"
		sizes="(max-width: 616px) 100vw, 616px"
		class="width-full"
		alt=""
	/>
EOE
, <<<'EOE'
	It's getting dark. We better find the place for night.
EOE
, <<<'EOE'
	I forgot the guitar, grrr. Anyway, we are so tired we go to beds in a second. Fire is warming nicely, but we will have to get up every two hours to make sure it's burning fine.
EOE
];

/*
 * Corporation
 */
$entries['corporation'] = [
<<<'EOE'
	<p>The brake is over, we're back</em></p>
	<img
		src="content/corporation/thumbs/aula-616x310.jpg" width="616" height="310"
		srcset="content/corporation/thumbs/aula-616x310.jpg 616w, content/corporation/thumbs/aula-1232x620.jpg 176w"
		sizes="(max-width: 616px) 100vw, 616px"
		class="width-full"
		alt=""
	/>
EOE
, <<<'EOE'
	Andy Stanford said <em>"balance of exploration and exploitation is the key to company survival"</em>
EOE
, <<<'EOE'
	Terrific speech by Andy Stanford. He will be visiting Los Angeles in May and we plan to interview him then.
EOE
, <<<'EOE'
	Main report will be presented in 15 minutes.
EOE
, <<<'EOE'
	Second new product showed today is XLR2000. Looks quite similar to the previous model, but the engine is twice as efficient and the price is lower.
EOE
, <<<'EOE'
	<p>Detailed photo of the new head. We'll post a full gallery soon. Notice one extra cable:</p>
	<img
		src="content/corporation/thumbs/play-616x310.jpg" width="616" height="310"
		srcset="content/corporation/thumbs/play-616x310.jpg 616w, content/corporation/thumbs/play-1232x620.jpg 176w"
		sizes="(max-width: 616px) 100vw, 616px"
		class="width-full"
		alt=""
	/>
EOE
, <<<'EOE'
	Crowd love the new price. Shipping will start in one week, and you can already make an order on the <a href="#example-hyperlink">new producer's website</a>. We already did.
EOE
, <<<'EOE'
	Time for questions from the audience.
EOE
, <<<'EOE'
	Q: <em>Will all the accessories match the new standard?</em><br />
	A: <em>Yes, with two exceptions - old yellow RS15 mixer, and double wire cables won't.</em>
EOE
, <<<'EOE'
	<p>Second news is, you can get the new mixer with a 30% discount</p>
	<img
		src="content/corporation/thumbs/mixer-616x310.jpg" width="616" height="310"
		srcset="content/corporation/thumbs/mixer-616x310.jpg 616w, content/corporation/thumbs/mixer-1232x620.jpg 176w"
		sizes="(max-width: 616px) 100vw, 616px"
		class="width-full"
		alt=""
	/>
EOE
, <<<'EOE'
	Margaret Wilson will talk about the competition after the lunch brake.
EOE
, <<<'EOE'
	We're going to meet with Mr Logan, who promised us to talk about the plans for this year. Stay tuned, we'll post ever news. If you have any questions, leave a comment below.
EOE
];

/*
 * Neutral
 */
$entries['neutral'] = [
<<<'EOE'
	<p>First group is passing checkpoint <em>Charly</em> from north:</p>
	<img
		src="content/neutral/thumbs/rocks-735x413.jpg" width="735" height="413"
		srcset="content/neutral/thumbs/rocks-735x413.jpg 735w, content/neutral/thumbs/rocks-1470x826.jpg 176w"
		sizes="(max-width: 735px) 100vw, 735px"
		class="width-full"
		alt=""
	/>
EOE
, <<<'EOE'
	Major change in the leaders board <strong>Greg Manciani resigns</strong> from the race.
	It causes chaos in the teams and brings tactic changes.
EOE
, <<<'EOE'
	Amazing race so far - five competitors reach a checkpoint in no more
	then eight seconds between them. Conditions are excellent: <em>12 knots
	of the south-east wind</em>, and it seems they might speed up even more
	by the end. We're hoping for a record times.
EOE
, <<<'EOE'
	Perfect weather allowed organizers to set a demanding task while many of
	competitors are very tired after yesterdays windy day.
EOE
, <<<'EOE'
	<p>Weather conditions are still very good:</p>
	<img
		src="content/neutral/thumbs/mountain-clouds-735x413.jpg" width="735" height="413"
		srcset="content/neutral/thumbs/mountain-clouds-735x413.jpg 735w, content/neutral/thumbs/mountain-clouds-1470x826.jpg 176w"
		sizes="(max-width: 735px) 100vw, 735px"
		class="width-full"
		alt=""
	/>
EOE
, <<<'EOE'
	Fantastic news for the Swedish team - Andy and Mark managed to catch up
	and are now on positions 6 and 8. Way to go!
EOE
, <<<'EOE'
	Another great run of the Danish Devil - Greg Hannesh. He is second on the
	turnpoint four. Yesterday's problems are now gone.
EOE
, <<<'EOE'
	Superb maneuver by Thomas Morgentaller. He's now just behind the leading three.
EOE
, <<<'EOE'
	<strong>Important:</strong> due to gear malfunction Greg Anapolitas from
	Greece had to decide to step of the race. He was third in the race and
	fourth overall. Last year Greg didn't finish the final race as well.
EOE
, <<<'EOE'
	Josh Calton from Alaska is on the lead again!
EOE
, <<<'EOE'
	Perfect weather allowed organizers to set a demanding task while many of
	competitors are very tired after yesterdays windy day.
EOE
, <<<'EOE'
	<p>Several competitors are left behind - one of them is Andy Bradford struggling to race with the rest of the pack.</p>
	<img
		src="content/neutral/thumbs/freeride-735x413.jpg" width="735" height="413"
		srcset="content/neutral/thumbs/freeride-735x413.jpg 735w, content/neutral/thumbs/freeride-1470x826.jpg 176w"
		sizes="(max-width: 735px) 100vw, 735px"
		class="width-full"
		alt=""
	/>
EOE
, <<<'EOE'
	<strong>Breaking news:</strong> Bolivian team was disqualified because
	of legal issues. Overall results will have to be recalculated.
EOE
, <<<'EOE'
	<strong>Notice:</strong> Provisional results were just corrected.
EOE
, <<<'EOE'
	American team filed a protest to the arbiters.
EOE
, <<<'EOE'
	Incredible twist in the race - Pablo, yesterday's winner takes the lead
	despite his serious problem at the start.
EOE
, <<<'EOE'
	Excellent move of Michael Durogatti from Italy. He is now second with
	only few seconds to Josh.
EOE
, <<<'EOE'
	Durogatti slows down a bit. The pack of three Germans are just a few
	meters behind him.
EOE
, <<<'EOE'
	It's an incredible day - leading group is constantly mixing with
	the young wolves from Denmark. So far any of the old champions
	didn't make any major mistake, but there is still time for the
	ambitious sportsmen to press them.
EOE
, <<<'EOE'
	Mark has just passed the finish line with a great time in a great style
	Right after him four another competitors are heading toward finish.
EOE
, <<<'EOE'
	<p>It's over! We have a new champion. Congratulations Adam!</p>
	<img
		src="content/neutral/thumbs/top-735x413.jpg" width="735" height="413"
		srcset="content/neutral/thumbs/top-735x413.jpg 735w, content/neutral/thumbs/top-1470x826.jpg 176w"
		sizes="(max-width: 735px) 100vw, 735px"
		class="width-full"
		alt=""
	/>
EOE
, <<<'EOE'
	Thank you for following the race, and see you next time. If you like
	the livestream feature, you can purchase this template for you.
EOE
];

date_default_timezone_set('GMT');
$time = time();

$id = isset($_POST['id']) ? (int)$_POST['id'] : 0;

$demo  = isset($_POST['demo']) && isset($entries[$_POST['demo']]) ? $_POST['demo'] : 'sportsman';
$count = isset($_POST['count']) && $id == 0 ? (int)$_POST['count'] : 1;

$_time    = $time;
$_entries = [];
while ($count > 0) {

	$_id = $id+$count;

	if (isset($entries[$demo][$_id-1])) {

		$_entries[] = [
			'id'        => $_id,
			'timestamp' => $_time,
			'content'   => $entries[$demo][$_id-1]
		];

		$_time -= mt_rand(45, 180);

	}

	$count--;

}

echo json_encode([
	'time'    => $time,
	'entries' => $_entries
]);